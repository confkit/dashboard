# 03 - 前端架构设计

## 技术栈

- **包管理器**: `pnpm` (使用 workspaces 功能)
- **UI 框架**: `fukict`
- **路由**: `@fukict/router`
- **样式**: `Tailwind CSS`
- **构建工具**: `Vite`
- **语言**: `TypeScript`

## Monorepo 结构

采用 `pnpm` workspaces 管理的 Monorepo 结构，以分离 UI 组件和应用逻辑。

```
/dashboard
├── package.json
├── pnpm-workspace.yaml
└── packages/
    ├── ui/          #  UI 组件库 (Package)
    └── app/         # SPA 主应用 (Application)
```

### `packages/ui` (组件库)

- **定位**: 一套独立的、与业务逻辑无关的 `fukict` 组件。
- **目标**: 可复用性、可维护性。未来可发布为独立的 npm 包。
- **组件示例**: `Button`, `Card`, `Input`, `Table`, `SideNav`, `CodeEditor`, `LogViewer`。

### `packages/app` (SPA 应用)

- **定位**: 项目的主应用，负责页面路由、业务逻辑和状态管理。
- **职责**:
    - 消费 `@/ui` 组件库来构建页面。
    - 通过 `services` 模块调用后端 API。
    - 使用 `@fukict/router` 管理页面跳转。

## 核心页面 (Views)

1.  **主界面 - 工作区仪表盘 (`/`)**:
    - **功能**: 展示所有 `spaces` 的卡片列表。提供创建、构建、编辑、删除 `space` 的入口。
    - **调用 API**: `GET /api/workspaces`。

2.  **工作区编辑器页 (`/workspaces/:space_name`)**:
    - **功能**: 以表单或代码编辑器的形式，展示和修改指定 `space` 的 YAML 配置。
    - **调用 API**: `GET /api/workspaces/{space_name}`, `PUT /api/workspaces/{space_name}`。

3.  **构建日志页 (`/workspaces/:space_name/logs`)**:
    - **功能**: 实时展示构建过程的日志。
    - **调用 API**: `WS /ws/workspaces/{space_name}/logs`。

